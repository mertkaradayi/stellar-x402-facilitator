# =====================================================================
# Stellar x402 Facilitator - Environment Variables
# =====================================================================
# Copy this file to .env and fill in your values
# 
# SECURITY BEST PRACTICES:
# - Never commit .env files to git (already in .gitignore)
# - Use different keys for testnet vs mainnet
# - Rotate keys periodically in production
# - Use a secrets manager (Vault, AWS Secrets Manager) in production
# =====================================================================

# =====================================================================
# FACILITATOR SERVER
# =====================================================================

# Server port (default: 4022)
PORT=4022

# =====================================================================
# STELLAR NETWORK
# =====================================================================

# Network: "testnet" or "mainnet"
# The facilitator auto-selects Horizon/Soroban URLs based on this
STELLAR_NETWORK=testnet

# (Optional) Override default RPC URLs
# STELLAR_RPC_URL=https://soroban-testnet.stellar.org
# STELLAR_HORIZON_URL=https://horizon-testnet.stellar.org

# =====================================================================
# FEE SPONSORSHIP (Optional but Recommended)
# =====================================================================
# When set, the facilitator will pay transaction fees for users
# using Stellar fee-bump transactions. The user's signed transaction
# is NEVER modified - only wrapped with facilitator's fee payment.
#
# To generate a new keypair for testnet:
#   1. Go to https://laboratory.stellar.org/#account-creator?network=test
#   2. Generate keypair and fund with friendbot
#   3. Copy the SECRET KEY below
#
# SECURITY: This key should have limited XLM balance (e.g., 100 XLM)
# to limit exposure if compromised. It only needs enough to pay fees.
# =====================================================================

# Facilitator's secret key for fee sponsorship (starts with S...)
# Leave commented out to disable fee sponsorship (users pay their own fees)
# FACILITATOR_SECRET_KEY=SXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# =====================================================================
# DEMO APP CONFIG (apps/demo)
# =====================================================================

# Facilitator server URL
FACILITATOR_URL=http://localhost:4022

# Your Stellar wallet address that receives payments (starts with G...)
# This is the "payTo" address in payment requirements
PAY_TO_ADDRESS=GC63PSERYMUUUJKYSSFQ7FKRAU5UPIP3XUC6X7DLMZUB7SSCPW5BSIRT

# =====================================================================
# ASSET CONFIGURATION
# =====================================================================

# Asset for payments
# Options:
#   - "native" for XLM
#   - Soroban contract address (C...) for tokens like USDC
#
# Current: Using native XLM for simplicity
# Future: USDC Soroban token
ASSET_CONTRACT=native

# USDC Contract Address (for future use)
# Testnet: CDLZFC3SYJYDZT7K67VZ75HPJVIEUVNIXF47ZG2FB2RMQQVU2HHGCYSC
# USDC_CONTRACT=CDLZFC3SYJYDZT7K67VZ75HPJVIEUVNIXF47ZG2FB2RMQQVU2HHGCYSC

# =====================================================================
# PRODUCTION CHECKLIST
# =====================================================================
# Before deploying to production:
#
# [ ] Switch STELLAR_NETWORK to "mainnet"
# [ ] Use production PAY_TO_ADDRESS (your real wallet)
# [ ] Use production USDC contract if accepting USDC
# [ ] Set FACILITATOR_SECRET_KEY with funded account
# [ ] Configure HTTPS (reverse proxy: nginx, Cloudflare, etc.)
# [ ] Add rate limiting
# [ ] Use persistent storage for replay protection (Redis/PostgreSQL)
# [ ] Set up monitoring and alerting
# =====================================================================
